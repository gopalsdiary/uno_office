<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó‡¶™‡¶§‡ßç‡¶∞ - Appointment Letter</title>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="../authentication.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Nikosh', 'SolaimanLipi', Arial, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        .no-print {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .btn {
            padding: 10px 30px;
            margin: 0 5px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-success {
            background: #38ef7d;
            color: white;
        }
        
        .btn:hover {
            opacity: 0.9;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .loading {
            text-align: center;
            padding: 50px;
        }
        
        .error {
            text-align: center;
            padding: 50px;
            color: red;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                padding: 0;
            }
            
            .no-print {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="no-print">
            <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è Print</button>
            <button class="btn btn-success" onclick="window.history.back()">‚Üê Back</button>
        </div>
        
        <div id="appointmentContent">
            <div class="loading">
                <h2>‚è≥ Loading data...</h2>
            </div>
        </div>
    </div>

    <script>
        // Get URL parameter
        function getUrlParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }
        
        // Load centre data from Supabase
        window.addEventListener('DOMContentLoaded', async () => {
            // Check authentication
            checkAuth();
            
            const centreCode = getUrlParam('code');
            
            if (!centreCode) {
                document.getElementById('appointmentContent').innerHTML = `
                    <div class="error">
                        <h2>‚ùå No centre code provided</h2>
                        <p>URL parameter 'code' is required.</p>
                        <button class="btn btn-primary" onclick="window.history.back()">Go Back</button>
                    </div>
                `;
                return;
            }
            
            try {
                console.log('Loading data for centre code:', centreCode);
                const freshData = await loadCentreDataFromSupabase(centreCode);
                renderAppointmentLetter(freshData);
            } catch (error) {
                console.error('Error loading centre data:', error);
                document.getElementById('appointmentContent').innerHTML = `
                    <div class="error">
                        <h2>‚ùå Error loading data</h2>
                        <p>${error.message}</p>
                        <button class="btn btn-primary" onclick="window.history.back()">Go Back</button>
                    </div>
                `;
            }
        });
        
        // Load centre data from Supabase using centre_assignments table
        async function loadCentreDataFromSupabase(centreCode) {
            if (!window.supabaseClient) {
                throw new Error('Supabase client not initialized');
            }
            
            // Fetch vote centre details
            const { data: centreData, error: centreError } = await window.supabaseClient
                .from('vote_centre')
                .select('*')
                .eq('vote_centre_code', centreCode)
                .single();
            
            if (centreError) throw new Error(`Failed to load centre: ${centreError.message}`);
            
            // Fetch all assignments for this centre from centre_assignments table
            const { data: assignments, error: assignError } = await window.supabaseClient
                .from('centre_assignments')
                .select('*')
                .eq('vote_centre_code', centreCode)
                .order('assignment_id', { ascending: true });
            
            if (assignError) throw new Error(`Failed to load assignments: ${assignError.message}`);
            
            console.log('Raw assignments:', assignments);
            
            // Process assignments into presiding, assPresiding, polling
            let presiding = null;
            let assPresiding = [];
            let polling = [];
            
            if (assignments && assignments.length > 0) {
                for (const assignment of assignments) {
                    if (assignment.officer_type === 'presiding') {
                        presiding = {
                            presiding_iid: assignment.officer_iid,
                            presiding_name: assignment.officer_name,
                            designation: assignment.officer_designation,
                            gender: assignment.officer_gender
                        };
                    } else if (assignment.officer_type === 'ass_presiding') {
                        assPresiding.push({
                            ass_presiding_iid: assignment.officer_iid,
                            ass_presiding_name: assignment.officer_name,
                            designation: assignment.officer_designation,
                            gender: assignment.officer_gender,
                            booth_number: assignment.booth_number
                        });
                    } else if (assignment.officer_type === 'polling') {
                        polling.push({
                            polling_iid: assignment.officer_iid,
                            polling_name: assignment.officer_name,
                            designation: assignment.officer_designation,
                            gender: assignment.officer_gender,
                            booth_number: assignment.booth_number,
                            person_number: assignment.person_number
                        });
                    }
                }
                
                // Sort assPresiding by booth_number
                assPresiding.sort((a, b) => (a.booth_number || 0) - (b.booth_number || 0));
                
                // Sort polling by booth_number then person_number
                polling.sort((a, b) => {
                    if ((a.booth_number || 0) !== (b.booth_number || 0)) {
                        return (a.booth_number || 0) - (b.booth_number || 0);
                    }
                    return (a.person_number || 0) - (b.person_number || 0);
                });
            }
            
            console.log('Loaded:', { centre: centreData, presiding, assPresiding, polling });
            
            return {
                centre: centreData,
                presiding: presiding,
                assPresiding: assPresiding,
                polling: polling
            };
        }
        
        function getOfficerName(officer, type) {
            if (!officer) return '';
            // Fields from centre_assignments table
            if (type === 'presiding') return officer.presiding_name || officer.officer_name || officer.name || '';
            if (type === 'ass_presiding') return officer.ass_presiding_name || officer.officer_name || officer.name || '';
            if (type === 'polling') return officer.polling_name || officer.officer_name || officer.name || '';
            return officer.officer_name || officer.name || '';
        }
        
        function renderAppointmentLetter(data) {
            const centre = data.centre;
            const presiding = data.presiding;
            const assPresiding = data.assPresiding || [];
            const polling = data.polling || [];
            
            // Build table rows - same format as 3_vote_centre.html
            let tableRows = '';
            const maxRows = Math.max(1, assPresiding.length);
            const firstAssPres = assPresiding.length > 0 ? assPresiding[0] : null;
            
            if (assPresiding.length === 0) {
                tableRows = `
                    <tr>
                        <td rowspan="1" style="border:0.75pt solid #000; padding:5pt; text-align:center; vertical-align:middle;">
                            <p style="margin:0; font-size:10pt;"><span style="font-family:Nikosh;">${presiding ? getOfficerName(presiding, 'presiding') : 'N/A'}</span></p>
                            ${presiding && presiding.designation ? `<p style="margin:0; font-size:9pt;">${presiding.designation}</p>` : ''}
                        </td>
                        <td style="border:0.75pt solid #000; padding:5pt; text-align:center;">&nbsp;</td>
                        <td style="border:0.75pt solid #000; padding:5pt;">&nbsp;</td>
                        <td style="border:0.75pt solid #000; padding:5pt; text-align:center;">&nbsp;</td>
                    </tr>`;
            } else {
                for (let i = 0; i < maxRows; i++) {
                    const assPres = assPresiding[i];
                    const poll1 = polling[i * 2];
                    const poll2 = polling[i * 2 + 1];
                    
                    tableRows += `
                        <tr>
                            ${i === 0 ? `<td rowspan="${maxRows}" style="border:0.75pt solid #000; padding:5pt; text-align:center; vertical-align:middle;">
                                <p style="margin:0; font-size:10pt;"><span style="font-family:Nikosh;">${presiding ? getOfficerName(presiding, 'presiding') : 'N/A'}</span></p>
                                ${presiding && presiding.designation ? `<p style="margin:0; font-size:9pt;">${presiding.designation}</p>` : ''}
                            </td>` : ''}
                            
                            <td style="border:0.75pt solid #000; padding:5pt; text-align:center; vertical-align:middle;">
                                <p style="margin:0; font-size:10pt;"><span style="font-family:Nikosh;">${assPres ? getOfficerName(assPres, 'ass_presiding') : ''}</span></p>
                                ${assPres && assPres.designation ? `<p style="margin:0; font-size:9pt;">${assPres.designation}</p>` : ''}
                                ${assPres && assPres.gender ? `<p style="margin:0; font-size:8pt;">${assPres.gender}</p>` : ''}
                            </td>
                            
                            <td style="border:0.75pt solid #000; padding:5pt; vertical-align:top;">
                                ${poll1 ? `<p style="margin:0 0 5pt 0; font-size:10pt;"><strong>1.</strong> <span style="font-family:Nikosh;">${getOfficerName(poll1, 'polling')}</span>${poll1.designation ? `, ${poll1.designation}` : ''}${poll1.gender ? ` (${poll1.gender})` : ''}</p>` : ''}
                                ${poll2 ? `<p style="margin:0; font-size:10pt;"><strong>2.</strong> <span style="font-family:Nikosh;">${getOfficerName(poll2, 'polling')}</span>${poll2.designation ? `, ${poll2.designation}` : ''}${poll2.gender ? ` (${poll2.gender})` : ''}</p>` : ''}
                            </td>
                            
                            ${i === 0 ? `<td rowspan="${maxRows}" style="border:0.75pt solid #000; padding:5pt; text-align:center; vertical-align:middle;">
                                <p style="margin:0; font-size:10pt;"><span style="font-family:Nikosh;">${firstAssPres ? getOfficerName(firstAssPres, 'ass_presiding') : ''}</span></p>
                                ${firstAssPres && firstAssPres.designation ? `<p style="margin:0; font-size:9pt;">${firstAssPres.designation}</p>` : ''}
                            </td>` : ''}
                        </tr>`;
                }
            }
            
            const content = `
                <p style="text-align:right; font-size:16pt; margin-bottom:10px;">
                    <strong><span style="font-family:NikoshBAN;">‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞ ‡¶®‡¶Ç</span> ‚Äì <span style="font-family:NikoshBAN;">${centre.vote_centre_code || ''}</span></strong>
                </p>
                <p style="text-align:center; font-size:16pt; margin-bottom:5px;">
                    <span style="font-family:NikoshBAN;">‡¶§‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶¶‡¶∂ ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶∏‡¶Ç‡¶∏‡¶¶ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®</span>
                </p>
                <p style="text-align:center; font-size:14pt; margin-bottom:10px;">
                    <u><span style="font-family:NikoshBAN;">‡¶™‡ßç‡¶∞‡¶ø‡¶ú‡¶æ‡¶á‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞, ‡¶∏‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶™‡ßç‡¶∞‡¶ø‡¶ú‡¶æ‡¶á‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶™‡ßã‡¶≤‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞‡¶¶‡ßá‡¶∞ ‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó‡¶™‡¶§‡ßç‡¶∞</span></u>
                </p>
                <p style="font-size:13pt; margin-bottom:5px;">
                    <span style="font-family:NikoshBAN;">‡¶ú‡ßá‡¶≤‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ‡¶É ‡¶´‡ßá‡¶®‡ßÄ, ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®‡ßÄ ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶ì ‡¶®‡¶æ‡¶Æ‡¶É ‡ß®‡ß¨‡ß¨, ‡¶´‡ßá‡¶®‡ßÄ-‡ß®</span>
                </p>
                <p style="font-size:12pt; margin-bottom:5px;">
                    <span style="font-family:NikoshBAN; color:#c00000;">‡¶≠‡ßã‡¶ü‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®‡¶É ${centre.vote_centre_name || 'N/A'}</span>
                </p>
                <p style="font-size:12pt; margin-bottom:10px;">
                    <span style="font-family:NikoshBAN; color:#ff0066;">‡¶Ø‡ßá ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞‡¶ó‡¶£ ‡¶≠‡ßã‡¶ü ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶∏‡ßá ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ‡¶É ${centre.vote_centre_location || 'N/A'}</span>
                </p>
                <p style="text-align:justify; font-size:10pt; margin-bottom:15px;">
                    <span style="font-family:NikoshBAN;">‡¶ó‡¶£‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø‡¶§‡ßç‡¶¨ ‡¶Ü‡¶¶‡ßá‡¶∂, 1972 ‡¶è‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶ö‡ßç‡¶õ‡ßá‡¶¶ 9 ‡¶è‡¶∞ ‡¶¶‡¶´‡¶æ (1‡¶ñ) ‡¶ï‡¶∞‡ßç‡¶§‡ßÉ‡¶ï ‡¶Ö‡¶∞‡ßç‡¶™‡¶ø‡¶§ ‡¶ï‡ßç‡¶∑‡¶Æ‡¶§‡¶æ‡¶¨‡¶≤‡ßá, ‡¶Ü‡¶Æ‡¶ø ‡¶Æ‡¶®‡¶ø‡¶∞‡¶æ ‡¶π‡¶ï, ‡¶ú‡ßá‡¶≤‡¶æ ‡¶™‡ßç‡¶∞‡¶∂‡¶æ‡¶∏‡¶ï, ‡¶´‡ßá‡¶®‡ßÄ ‡¶ì 266, ‡¶´‡ßá‡¶®‡ßÄ-2 ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®‡¶ø ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶®‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞ ‡¶®‡¶ø‡¶Æ‡ßç‡¶®‡¶≤‡¶ø‡¶ñ‡¶ø‡¶§ ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶£‡¶ï‡ßá ‡¶â‡¶™‡¶∞‡ßã‡¶≤‡ßç‡¶≤‡¶ø‡¶ñ‡¶ø‡¶§ ‡¶≠‡ßã‡¶ü‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶§‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡¶ø‡¶ú‡¶æ‡¶á‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞, ‡¶™‡ßç‡¶∞‡¶ø‡¶ú‡¶æ‡¶á‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞‡¶ï‡ßá ‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶§‡¶æ ‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶™‡ßç‡¶∞‡¶ø‡¶ú‡¶æ‡¶á‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶™‡ßã‡¶≤‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡ßá ‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡¶ø‡¶≤‡¶æ‡¶Æ:</span>
                </p>
                
                <table style="width:100%; border:0.75pt solid #000; border-collapse:collapse;">
                    <tr>
                        <td style="width:15%; border:0.75pt solid #000; padding:8pt; text-align:center;">
                            <span style="font-family:Nikosh; font-size:10pt;">‡¶™‡ßç‡¶∞‡¶ø‡¶ú‡¶æ‡¶á‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶™‡¶¶‡¶¨‡ßÄ</span>
                        </td>
                        <td style="width:20%; border:0.75pt solid #000; padding:8pt; text-align:center;">
                            <span style="font-family:Nikosh; font-size:10pt;">‡¶∏‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶™‡ßç‡¶∞‡¶ø‡¶ú‡¶æ‡¶á‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶™‡¶¶‡¶¨‡ßÄ</span>
                        </td>
                        <td style="width:45%; border:0.75pt solid #000; padding:8pt; text-align:center;">
                            <span style="font-family:Nikosh; font-size:10pt;">‡¶™‡ßã‡¶≤‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶™‡¶¶‡¶¨‡ßÄ</span>
                        </td>
                        <td style="width:20%; border:0.75pt solid #000; padding:8pt; text-align:center;">
                            <span style="font-family:Nikosh; font-size:7pt;">‡¶∏‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶™‡ßç‡¶∞‡¶ø‡¶ú‡¶æ‡¶á‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶Ø‡¶ø‡¶®‡¶ø ‡¶™‡ßç‡¶∞‡¶ø‡¶ú‡¶æ‡¶á‡¶°‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶™‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø‡¶§‡ßá ‡¶¶‡¶æ‡¶Ø‡¶º‡¶ø‡¶§‡ßç‡¶¨ ‡¶™‡¶æ‡¶≤‡¶® ‡¶ï‡¶∞‡¶¨‡ßá‡¶®</span>
                        </td>
                    </tr>
                    <tr>
                        <td style="border:0.75pt solid #000; padding:3pt; text-align:center;"><span style="font-family:Nikosh; font-size:7pt;">‡ßß</span></td>
                        <td style="border:0.75pt solid #000; padding:3pt; text-align:center;"><span style="font-family:Nikosh; font-size:7pt;">‡ß®</span></td>
                        <td style="border:0.75pt solid #000; padding:3pt; text-align:center;"><span style="font-family:Nikosh; font-size:7pt;">‡ß©</span></td>
                        <td style="border:0.75pt solid #000; padding:3pt; text-align:center;"><span style="font-family:Nikosh; font-size:7pt;">‡ß™</span></td>
                    </tr>
                    ${tableRows}
                </table>
                
                <p style="margin-top:20px;"><span style="font-family:NikoshBAN; font-size:14pt;">‡¶∏‡ßç‡¶•‡¶æ‡¶®: </span></p>
                <p><span style="font-family:NikoshBAN; font-size:14pt;">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: </span></p>
                
                <div style="text-align:right; margin-top:40px;">
                    <p style="font-size:10pt;"><span style="font-family:NikoshBAN;">‡¶Æ‡¶®‡¶ø‡¶∞‡¶æ ‡¶π‡¶ï</span></p>
                    <p style="font-size:10pt;"><span style="font-family:NikoshBAN;">‡¶ú‡ßá‡¶≤‡¶æ ‡¶™‡ßç‡¶∞‡¶∂‡¶æ‡¶∏‡¶ï, ‡¶´‡ßá‡¶®‡ßÄ ‡¶ì</span></p>
                    <p style="font-size:10pt;"><span style="font-family:NikoshBAN;">‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶®‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞, ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®‡ßÄ ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ 266, ‡¶´‡ßá‡¶®‡ßÄ-2</span></p>
                </div>
                
                <div style="page-break-before:always; margin-top:50px;">
                    <p style="text-align:center; font-size:12pt; margin-bottom:10px;">
                        <span style="font-family:NikoshBAN;">‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§‡¶ø ‡¶∏‡ßç‡¶¨‡ßÄ‡¶ï‡¶æ‡¶∞ ‡¶ì ‡¶Ö‡¶Ç‡¶ó‡ßÄ‡¶ï‡¶æ‡¶∞‡¶®‡¶æ‡¶Æ‡¶æ</span>
                    </p>
                    <p style="text-align:center; margin-bottom:15px;">
                        <span style="font-family:NikoshBAN;">(‡¶è‡¶á ‡¶Ö‡¶Ç‡¶∂‡¶ü‡ßÅ‡¶ï‡ßÅ ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶®‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞‡¶ï‡ßá ‡¶´‡ßá‡¶∞‡¶§ ‡¶¶‡¶ø‡¶§‡ßá ‡¶π‡¶¨‡ßá)</span>
                    </p>
                    <p style="text-align:justify; margin-bottom:30px;">
                        <span style="font-family:NikoshBAN;">‡¶Ü‡¶Æ‡¶ø‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‡¶â‡¶™‡¶∞‡ßá ‡¶¨‡¶∞‡ßç‡¶£‡¶ø‡¶§ ‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó ‡¶ó‡ßç‡¶∞‡¶π‡¶® ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶ô‡ßç‡¶ó‡ßÄ‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶õ‡¶ø ‡¶Ø‡ßá, ‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶™‡¶ø‡¶§ ‡¶¶‡¶æ‡¶Ø‡¶º‡¶ø‡¶§‡ßç‡¶¨ ‡¶∏‡¶∞‡ßç‡¶¨‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶¶‡¶≤‡ßÄ‡¶Ø‡¶º/‡¶ó‡ßã‡¶∑‡ßç‡¶†‡ßÄ‡¶Ø‡¶º/‡¶ß‡¶∞‡ßç‡¶Æ‡ßÄ‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶≠‡¶æ‡¶¨ ‡¶π‡¶á‡¶§‡ßá ‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶•‡¶æ‡¶ï‡¶ø‡¶Ø‡¶º‡¶æ ‡¶∏‡¶§‡¶§‡¶æ ‡¶ì ‡¶®‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶®‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶™‡¶æ‡¶≤‡¶® ‡¶ï‡¶∞‡¶¨‡•§</span>
                    </p>
                    <div style="text-align:right; margin-top:40px;">
                        <p><span style="font-family:NikoshBAN;">‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶..</span></p>
                        <p><span style="font-family:NikoshBAN;">‡¶∏‡ßç‡¶¨‡¶æ‡¶ï‡ßç‡¶∑‡¶∞ ‡¶ì ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶™‡¶∞‡¶ø‡¶ö‡¶ø‡¶§‡¶ø ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</span></p>
                    </div>
                    <p style="margin-top:30px;">
                        <span style="font-family:NikoshBAN;">‡¶≠‡ßã‡¶ü‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡ßá‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶ì ‡¶®‡¶æ‡¶Æ‡¶É ${centre.vote_centre_code || ''} - ${centre.vote_centre_name || ''}</span>
                    </p>
                </div>
            `;
            
            document.getElementById('appointmentContent').innerHTML = content;
        }
    </script>
</body>
</html>
